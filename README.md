# Machine Learning Model specification in JSON 
## For deployment in Inference/Scoring Engines

JSON is a simple data interchange format which has gained tremendous popularity. The aim of this specification is to present a way in which people can export their Machine Learning models into JSON and then import this JSON model and run inference/scoring on new data in any platform of choice. 

For example, a model developed using Python `scikit-learn` can be exported into the JSON model, which can then be imported by a Dart scoring engine to run inference on a Flutter mobile application.

## Specification

A model specification `json` file includes the following top-level keys:

| # | Name | Value Type | Optional | Description |
|-----|-----|------|------|--------|
|1| `"input"` | `object` | No | Provides the names and types of model input fields. Each field represents an independent variable of the model (`X`) | 
|2| `"output"` | `object` | No | Provides the name and type of model onput field. It represents the target variable of the model (`Y`). | 
|3| `"transformer"` | `object` | Yes | Provides the details in regards to the data transformation the input goes through before entering the model. |
|4| `"model"` | `object` | No | Provides the details of the Machine Learning model. |

Let us take a deep dive into each of the above objects:

### 1. `input`

The `object` corresponding to `"input"` is a map of field names (keys) and details corresponding to those fields (values). 

For example, if there is a field (independent variable) having name - "Dependents" which represents the number of family members (integer value) who depend on the given person, then it will be represented as  `"Dependents": {"type": "int"}` in the field map. In case there is a categorical variable like `Gender` which can have any one of the fixed categorical values (`Male` and `Female`) as input, the field will be represented as  `"Gender": {"type": "category", "values": ["Female", "Male" ]}`. The reason for including values is to perform One-Hot Encode operation where the input values are replaced by their index locations in the array corresponding to `"values"`.

Currently, this specification allows 4 types of fields - "bool", "int", "float" and "category". A representative example is shown below for better understanding.

**Example**
```json
"input": {
        "Gender": {
            "type": "category",
            "values": [
                "Female",
                "Male"
            ]
        },
        "IsMarried": {
            "type": "bool"
        },
        "Dependents": {
            "type": "int"
        },
        "Applicant Income": {
            "type": "float"
        },
        "Loan Amount": {
            "type": "int"
        },
        "Property Area": {
            "type": "category",
            "values": [
                "Rural",
                "Semiurban",
                "Urban"
            ]
        }
    },
```

### 2. `output`

The `object` corresponding to `"output"` is a singleton map containing the field name of the target variable (`Y`) and the type & value details corresponding to this field.

Some examples are provided below:

```json
"output": {
    "Predicted Price": {
        "type": "float"
    }
},
```

When a ML model outputs discrete indexes representing some meaningful output (in original data in case of supervised learning model), "category"` type output is used where the array corresponding to `"values"` represent the text at the location corresponding to the output index generated by the model.

```json
"output": {
    "species": {
        "type": "category",
        "values": [
            "versicolor",
            "setosa",
            "virginica"
        ]
    }
},
```

